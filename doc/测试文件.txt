var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}
var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}var pageData;
var rules = new Array();
var calObj;

$(document).ready(function() {
			calObj = new caltb("demoTbl");

			// 调用后台初始化数据，演示是固定的数据
			pageData = eval("(" + $("#jsonData").val() + ")");
			// 初始化分页数据
			initPagination();

		});

function loadJsgs() {
	$.messager.progress({
				title : '请稍等',
				msg : '计算公式加载中...',
				text : ''
			});
	// 通过Ajax向后台发送请求，已json方式只提交需要的参数，不再提交整个form表单
	$.ajax({
				url : "/WsbsDemoAction.do",
				// 默认采用异步模式访问,async=false时timeout参数将无效
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "loadJsgs",
								data : {
									pzzlDm : pageData.data.pzzlDm
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.alert('加载计算公式错误', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					for (var i = 0; i < responseText.data.gsList.length; i++) {
						rules.push(responseText.data.gsList[i]);
					}
					calObj.setRules(rules);
					initCalTable(calObj);
					$.messager.alert('提示', '加载计算公式成功!');
					$.messager.progress('close');
				}
			});
}

function clearData() {
	var obj = $("input[type=text]");
	for (var i = 0; i < obj.length; i++) {
		if (obj[i].cal == "true") {
			obj[i].value = "";
		}
	}
}

function reload() {
	window.location.reload();
}

function save() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function print() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function back() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}
function helper() {
	$.messager.alert('提示', '暂未实现...！', 'info');
}

function sendJMS() {
	$.messager.progress({
				title : '请稍等',
				msg : '消息发送中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "sendMsg",
								data : {
									type : $("input[name='sendType']:checked")
											.val(),
									bwlxDm : $("input[name='callType']:checked")
											.val(),
									jmsMsg : $("#jmsMsg").val()
								}
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					$("#jsonData").val($.toJSON(responseText));
					$("#result").val(responseText.data.result);
					$.messager.progress('close');
				}
			});
}

function initPagination() {
	var tempData = [];
	for (var i = 0; i < 10; i++) {
		tempData.push({
					"swglm" : "",
					"nsrMc" : ""
				});
	}
	$("#dd").datagrid({
		title : "前端分页",
		rownumbers : true,
		fitColumns : true,
		singleSelect : true,
		pagination : true,
		data : tempData,
		columns : [[{
					field : 'swglm',
					align : "center",
					title : "税务管理码",
					width : 100
				}, {
					field : 'nsrMc',
					align : "center",
					title : "纳税人名称",
					width : 100
				}, {
					field : 'cz',
					align : "center",
					title : "操作",
					width : 100,
					formatter : function(value, row, index) {
						var btn = null;
						if ("" != row.swglm) {
							btn = "<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>查看</a>";
							btn += "&nbsp&nbsp;<a class='editcls' onclick='testFun("
									+ row.swglm
									+ ")' href='javascript:void(0);'>编辑</a>"
						}
						return btn;
					}
				}]]
	});
	$("#dd").datagrid("getPager").pagination({
				showPageList : false,
				showRefresh : false,
				pageSize : 10,
				displayMsg : ''
			});
}

function queryData() {
	$.messager.progress({
				title : '请稍等',
				msg : '数据加载中...',
				text : ''
			});
	$.ajax({
				url : "/WsbsDemoAction.do",
				async : true,
				dataType : "json",
				data : {
					jsonData : $.toJSON({
								swglm : pageData.data.swglm,
								handleCode : "queryData",
								data : null
							})
				},
				type : 'post',
				timeout : SYS_TIMEOUT,
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					$.messager.progress('close');
					$.messager.alert('发送消息出错', textStatus, 'error');
				},
				success : function(responseText, textStatus, XMLHttpRequest) {
					var dataList = responseText.data.list;
					// 得到后台返回json数据，将数据放入datagrid中，并初始显示前10条
					$("#dd").datagrid("loadData", dataList.slice(0, 10));
					// 设置分页的相关属性
					var pager = $("#dd").datagrid("getPager");
					pager.pagination({
								total : dataList.length,
								onSelectPage : function(pageNo, pageSize) {
									var start = (pageNo - 1) * pageSize;
									var end = start + pageSize;
									$("#dd").datagrid("loadData",
											dataList.slice(start, end));
									pager.pagination('refresh', {
												total : dataList.length,
												pageNumber : pageNo
											});
								}
							});
					$.messager.progress('close');
				}
			});
}

function testFun(swglm) {
	alert(swglm);
}